(function(a){function t(){var t=c[o];0==o&&a(".gil-update-wrapper").fadeIn(n).css("display","table"),t&&(e(t),i(t),o++)}function e(e){if(e&&e.action){var i={action:e.action};e.parameters&&"object"==typeof e.parameters&&i.push(e.parameters),a.ajax({url:ajaxurl,method:"POST",data:i,success:function(e){console.log(e),t(),e.date&&e.string_date&&a(".time-ago").data("timeago",null).attr("datetime",e.date).text(e.string_date).timeago(),e.size&&a(".gil-size").text(e.size)}})}return!1}function i(t){a(t.class).siblings(":visible").length>0?a(t.class).siblings(":visible").css("transform","translate3d(0, 50px, 0)").fadeOut(r,function(){t.finish&&a(".gil-update-wrapper .animation").fadeOut(r/2).css("transform","translate3d(0, -50px, 0)"),a(t.class).fadeIn(r).css("transform","translate3d(0, 0px, 0)")}):(t.finish&&a(".gil-update-wrapper .animation").fadeOut(r/2).css("transform","translate3d(0, -50px, 0)"),a(t.class).fadeIn(r).css("transform","translate3d(0, 0px, 0)"))}function s(){o=0,a(".gil-update-wrapper .animation").removeAttr("style"),a(".gil-update-wrapper .process > div").removeAttr("style")}var n=250,r=400,o=0,c=[{action:"geo_ip_get_library",class:".downloading"},{action:"geo_ip_extract_library",class:".decompressing"},{action:"geo_ip_update_lastest",class:".done",finish:!0}];a(document).ready(function(){a(".time-ago").timeago(),a(".update").on("click",function(){return t()}),a(".gil-close").on("click",function(){return a(".gil-update-wrapper").fadeOut(n,function(){s()}),!1})})})(jQuery);